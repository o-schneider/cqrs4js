{"version":3,"sources":["../../src/main/js/message/MessageBus.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;uBAES,WAAW;;sBACN,QAAQ;;AAEnC,IAAM,GAAG,GAAG,KAAK,CAAC;;IAEL,UAAU;AACV,WADA,UAAU,GACP;0BADH,UAAU;;AAEnB,QAAI,CAAC,cAAc,GAAG,0BAAkB,CAAC;GAC1C;;eAHU,UAAU;;WAKd,iBAAC,OAAO,EAAE;AACf,UAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AAC3B,UAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,OAAO,CAAC,IAAI,GAAG,kBAAkB,GAAG,OAAO,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC;AACtG,UAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AAChD,aAAO;KACR;;;WAEQ,mBAAC,WAAW,EAAE,QAAQ,EAAE;AAC/B,UAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,WAAW,GAAG,iBAAiB,GAAG,QAAQ,GAAG,GAAG,CAAC,CAAC;AAC/F,UAAI,CAAC,cAAc,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AAC3C,UAAI,CAAC,cAAc,CAAC,EAAE,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AAC9C,aAAO;KACR;;;WAEa,wBAAC,WAAW,EAAE,QAAQ,EAAE,EACrC;;;WAEW,sBAAC,OAAO,EAAE;AACpB,UAAI,EAAE,OAAO,6BAAmB,AAAE,EAAE;AAClC,cAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;OAC/D;KACF;;;SA1BU,UAAU","file":"MessageBus.js","sourcesContent":["'use strict';\n\nimport {Message} from './Message';\nimport {EventEmitter} from 'events';\n\nconst log = false;\n\nexport class MessageBus {\n  constructor() {\n    this.messageEmitter = new EventEmitter();\n  }\n\n  publish(message) {\n    this.checkPublish(message);\n    if (log) console.log(\"publish type of '\" + message.type + \"' with payload '\" + message.payload + \"'\");\n    this.messageEmitter.emit(message.type, message);\n    return;\n  }\n\n  subscribe(messageType, callback) {\n    if (log) console.log(\"subscribe to type '\" + messageType + \"' by callback '\" + callback + \"'\");\n    this.checkSubscribe(messageType, callback);\n    this.messageEmitter.on(messageType, callback);\n    return;\n  }\n\n  checkSubscribe(messageType, callback) {\n  }\n\n  checkPublish(message) {\n    if (!(message instanceof Message )) {\n      throw new Error(\"Publish works only on instances of Message\");\n    }\n  }\n}"]}